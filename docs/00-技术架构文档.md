# è™šæ‹Ÿäº§å“é”€å”®å¹³å° - æŠ€æœ¯æ¶æ„æ–‡æ¡£

**ç‰ˆæœ¬:** 1.0
**æ—¥æœŸ:** 2025-10-16
**çŠ¶æ€:** å·²ç¡®è®¤

---

## 1. æŠ€æœ¯æ ˆé€‰å‹

### 1.1 å‰ç«¯æŠ€æœ¯æ ˆ

#### ç”¨æˆ·å‰ç«¯ (Customer Frontend)
- **æ¡†æ¶:** Next.js 14 (React 18+)
- **è¯­è¨€:** TypeScript
- **æ ·å¼æ–¹æ¡ˆ:** Tailwind CSS + shadcn/ui
- **çŠ¶æ€ç®¡ç†:** React Context + SWR (æ•°æ®è·å–)
- **å›½é™…åŒ–:** next-i18next
- **è¡¨å•å¤„ç†:** React Hook Form + Zod
- **HTTPå®¢æˆ·ç«¯:** Axios
- **éƒ¨ç½²å¹³å°:** Vercel

**é€‰å‹ç†ç”±:**
- Next.js æä¾› SSR/SSGï¼ŒSEO å‹å¥½ï¼Œå…¨çƒåŠ è½½é€Ÿåº¦å¿«
- Vercel å…¨çƒ CDN åŠ é€Ÿï¼Œéƒ¨ç½²ç®€å•
- TypeScript æä¾›ç±»å‹å®‰å…¨ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯
- Tailwind CSS å¼€å‘æ•ˆç‡é«˜ï¼Œæ ·å¼ä¸€è‡´æ€§å¥½

#### ç®¡ç†åå° (Admin Dashboard)
- **æ¡†æ¶:** Next.js 14 (React 18+)
- **UIç»„ä»¶åº“:** Ant Design / shadcn/ui
- **å›¾è¡¨åº“:** Recharts
- **å…¶ä»–:** åŒç”¨æˆ·å‰ç«¯æŠ€æœ¯æ ˆ

---

### 1.2 åç«¯æŠ€æœ¯æ ˆ

- **è¿è¡Œæ—¶:** Node.js 20+ LTS
- **è¯­è¨€:** JavaScript/TypeScript
- **Webæ¡†æ¶:** Fastify 4.x
- **ORM:** Prisma
- **æ•°æ®åº“:** PostgreSQL 15+
- **ç¼“å­˜/ä¼šè¯:** Redis 7+
- **èº«ä»½éªŒè¯:** JWT (jsonwebtoken)
- **åŠ å¯†:** Node.js crypto + bcrypt
- **å‚æ•°éªŒè¯:** Zod / Fastify Schema
- **æ—¥å¿—:** Pino (Fastify å†…ç½®)

**é€‰å‹ç†ç”±:**
- Fastify æ€§èƒ½ä¼˜å¼‚ï¼Œæ¯” Express å¿«çº¦ 65%
- Prisma ç±»å‹å®‰å…¨ï¼Œå¼€å‘ä½“éªŒå¥½ï¼Œè‡ªåŠ¨ç”Ÿæˆè¿ç§»
- PostgreSQL äº‹åŠ¡æ”¯æŒå®Œå–„ï¼Œé€‚åˆè®¢å•ç³»ç»Ÿ
- Redis ç”¨äºéªŒè¯ç ç¼“å­˜å’Œä¼šè¯ç®¡ç†

---

### 1.3 ç¬¬ä¸‰æ–¹æœåŠ¡

| æœåŠ¡ç±»å‹ | é€‰å‹æ–¹æ¡ˆ | ç”¨é€” |
|---------|---------|------|
| **æ”¯ä»˜** | æ”¯ä»˜å®å¼€æ”¾å¹³å° + å¾®ä¿¡æ”¯ä»˜ | è®¢å•æ”¯ä»˜ |
| **é‚®ä»¶** | SendGrid / Resend | è®¢å•ç¡®è®¤ã€éªŒè¯ç  |
| **IPåœ°ç†ä½ç½®** | MaxMind GeoLite2 / ip-api.com | ä»·æ ¼æœ¬åœ°åŒ– |
| **å¾®ä¿¡é€šçŸ¥** | Serveré…± (ServerChan) | åº“å­˜é¢„è­¦ |
| **æ–‡ä»¶å­˜å‚¨** | AWS S3 / Cloudinary | äº§å“å›¾ç‰‡ä¸Šä¼  |

---

## 2. ç³»ç»Ÿæ¶æ„è®¾è®¡

### 2.1 æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å®¢æˆ·ç«¯å±‚ (Client)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç”¨æˆ·å‰ç«¯ (Next.js)   â”‚   ç®¡ç†åå° (Next.js)              â”‚
â”‚  - å•†å“å±•ç¤ºé¡µ         â”‚   - ä»ªè¡¨ç›˜                        â”‚
â”‚  - æ”¯ä»˜æµç¨‹          â”‚   - äº§å“ç®¡ç†                       â”‚
â”‚  - è®¢å•æŸ¥è¯¢          â”‚   - å¯†é’¥ç®¡ç†                       â”‚
â”‚                      â”‚   - è®¢å•ç®¡ç†                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                          â”‚
           â”‚        HTTPS/TLS         â”‚
           â”‚                          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  API ç½‘å…³ (Fastify)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚            è·¯ç”±å±‚ (Routes)                        â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚  /api/public/*  â”‚  /api/admin/*                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚            â”‚                   â”‚                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚        ä¸­é—´ä»¶å±‚ (Middleware)                      â”‚    â”‚
â”‚  â”‚  - CORS / Helmet (å®‰å…¨)                          â”‚    â”‚
â”‚  â”‚  - Rate Limiting (é™æµ)                          â”‚    â”‚
â”‚  â”‚  - JWT è®¤è¯ (ç®¡ç†å‘˜)                              â”‚    â”‚
â”‚  â”‚  - è¯·æ±‚æ—¥å¿— (Pino)                               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚            â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚         ä¸šåŠ¡é€»è¾‘å±‚ (Services)                      â”‚    â”‚
â”‚  â”‚  - ProductService   - OrderService              â”‚    â”‚
â”‚  â”‚  - PaymentService   - LicenseService            â”‚    â”‚
â”‚  â”‚  - EmailService     - NotificationService       â”‚    â”‚
â”‚  â”‚  - GeoService       - AuthService               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚            â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚        æ•°æ®è®¿é—®å±‚ (Data Access)                    â”‚    â”‚
â”‚  â”‚            Prisma ORM                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   PostgreSQL    â”‚          â”‚     Redis       â”‚
    â”‚   (ä¸»æ•°æ®åº“)     â”‚          â”‚  (ç¼“å­˜/ä¼šè¯)     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚        å¤–éƒ¨æœåŠ¡ (External)            â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚ æ”¯ä»˜å®/å¾®ä¿¡    â”‚  SendGrid  â”‚ Serveré…±â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æ•°æ®æµè®¾è®¡

#### 2.2.1 è´­ä¹°æµç¨‹
```
ç”¨æˆ· â†’ æŸ¥çœ‹äº§å“ (æ ¹æ®IPæ˜¾ç¤ºä»·æ ¼)
    â†’ ç‚¹å‡»è´­ä¹°
    â†’ è¾“å…¥é‚®ç®±
    â†’ é€‰æ‹©æ”¯ä»˜æ–¹å¼
    â†’ è·³è½¬æ”¯ä»˜é¡µé¢ (æ”¯ä»˜å®/å¾®ä¿¡)
    â†’ æ”¯ä»˜æˆåŠŸå›è°ƒ
    â†’ åç«¯åˆ†é…å¯†é’¥ + å‘é€é‚®ä»¶
    â†’ å‰ç«¯æ˜¾ç¤ºå¯†é’¥
```

#### 2.2.2 è®¢å•æŸ¥è¯¢æµç¨‹
```
ç”¨æˆ· â†’ è¾“å…¥é‚®ç®±
    â†’ åç«¯ç”ŸæˆéªŒè¯ç  + å­˜å…¥Redis
    â†’ å‘é€é‚®ä»¶
    â†’ ç”¨æˆ·è¾“å…¥éªŒè¯ç 
    â†’ åç«¯éªŒè¯
    â†’ è¿”å›è¯¥é‚®ç®±çš„æ‰€æœ‰è®¢å•
```

---

## 3. æ ¸å¿ƒæ¨¡å—è®¾è®¡

### 3.1 è®¤è¯ä¸æˆæƒ

| è§’è‰² | è®¤è¯æ–¹å¼ | æƒé™èŒƒå›´ |
|-----|---------|---------|
| **æ™®é€šç”¨æˆ·** | æ— éœ€è®¤è¯ (æ¸¸å®¢æ¨¡å¼) | æµè§ˆå•†å“ã€è´­ä¹°ã€æŸ¥è¯¢è‡ªå·±çš„è®¢å• |
| **ç®¡ç†å‘˜** | JWT Token | å…¨éƒ¨åå°ç®¡ç†åŠŸèƒ½ |

**å®ç°ç»†èŠ‚:**
- ç”¨æˆ·æ— éœ€æ³¨å†Œï¼Œé€šè¿‡é‚®ç®±éªŒè¯ç éªŒè¯èº«ä»½
- ç®¡ç†å‘˜ç™»å½•åç­¾å‘ JWTï¼Œæœ‰æ•ˆæœŸ 24 å°æ—¶
- æ‰€æœ‰ `/api/admin/*` æ¥å£éœ€è¦ JWT éªŒè¯

---

### 3.2 å®‰å…¨ç­–ç•¥

#### 3.2.1 æ•°æ®å®‰å…¨
- **å¯†é’¥åŠ å¯†:** ä½¿ç”¨ AES-256-GCM åŠ å¯†å­˜å‚¨
- **å¯†ç å­˜å‚¨:** bcrypt å“ˆå¸Œ (ç®¡ç†å‘˜å¯†ç )
- **æ•æ„Ÿé…ç½®:** ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼Œä¸æäº¤åˆ°ä»£ç åº“

#### 3.2.2 ä¼ è¾“å®‰å…¨
- å¼ºåˆ¶ HTTPS
- ä½¿ç”¨ Helmet è®¾ç½®å®‰å…¨å¤´
- CORS é™åˆ¶åªå…è®¸å‰ç«¯åŸŸå

#### 3.2.3 åº”ç”¨å®‰å…¨
- SQL æ³¨å…¥é˜²æŠ¤: Prisma å‚æ•°åŒ–æŸ¥è¯¢
- XSS é˜²æŠ¤: å‰ç«¯è¾“å…¥è½¬ä¹‰
- CSRF é˜²æŠ¤: SameSite Cookie
- Rate Limiting: é™åˆ¶ API è¯·æ±‚é¢‘ç‡

#### 3.2.4 æ”¯ä»˜å®‰å…¨
- æœåŠ¡ç«¯éªŒè¯æ”¯ä»˜ç­¾å
- åŒé‡æ£€æŸ¥è®¢å•é‡‘é¢
- ä½¿ç”¨æ•°æ®åº“äº‹åŠ¡ç¡®ä¿ä¸€è‡´æ€§

---

## 4. é¡¹ç›®ç›®å½•ç»“æ„

```
project-root/
â”œâ”€â”€ docs/                          # ğŸ“„ æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ 00-æŠ€æœ¯æ¶æ„æ–‡æ¡£.md
â”‚   â”œâ”€â”€ 01-æ•°æ®åº“è®¾è®¡æ–‡æ¡£.md
â”‚   â”œâ”€â”€ 02-APIæ¥å£æ–‡æ¡£.md
â”‚   â”œâ”€â”€ 03-å‰ç«¯ç»„ä»¶è®¾è®¡æ–‡æ¡£.md
â”‚   â””â”€â”€ 04-éƒ¨ç½²è¿ç»´æ–‡æ¡£.md
â”‚
â”œâ”€â”€ backend/                       # ğŸ”§ åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â”œâ”€â”€ schema.prisma         # æ•°æ®åº“æ¨¡å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ migrations/           # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ config/               # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ database.js
â”‚   â”‚   â”‚   â”œâ”€â”€ payment.js
â”‚   â”‚   â”‚   â””â”€â”€ email.js
â”‚   â”‚   â”œâ”€â”€ models/               # æ•°æ®æ¨¡å‹ (Prisma ç”Ÿæˆ)
â”‚   â”‚   â”œâ”€â”€ routes/               # è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ public/           # å…¬å¼€è·¯ç”±
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ products.js
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ orders.js
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ payments.js
â”‚   â”‚   â”‚   â””â”€â”€ admin/            # ç®¡ç†è·¯ç”±
â”‚   â”‚   â”‚       â”œâ”€â”€ dashboard.js
â”‚   â”‚   â”‚       â”œâ”€â”€ products.js
â”‚   â”‚   â”‚       â”œâ”€â”€ licenses.js
â”‚   â”‚   â”‚       â”œâ”€â”€ orders.js
â”‚   â”‚   â”‚       â””â”€â”€ settings.js
â”‚   â”‚   â”œâ”€â”€ services/             # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ product.service.js
â”‚   â”‚   â”‚   â”œâ”€â”€ order.service.js
â”‚   â”‚   â”‚   â”œâ”€â”€ payment.service.js
â”‚   â”‚   â”‚   â”œâ”€â”€ license.service.js
â”‚   â”‚   â”‚   â”œâ”€â”€ email.service.js
â”‚   â”‚   â”‚   â”œâ”€â”€ notification.service.js
â”‚   â”‚   â”‚   â”œâ”€â”€ geo.service.js
â”‚   â”‚   â”‚   â””â”€â”€ auth.service.js
â”‚   â”‚   â”œâ”€â”€ middleware/           # ä¸­é—´ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.js
â”‚   â”‚   â”‚   â”œâ”€â”€ errorHandler.js
â”‚   â”‚   â”‚   â””â”€â”€ rateLimit.js
â”‚   â”‚   â”œâ”€â”€ utils/                # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â”œâ”€â”€ encryption.js
â”‚   â”‚   â”‚   â”œâ”€â”€ validation.js
â”‚   â”‚   â”‚   â””â”€â”€ logger.js
â”‚   â”‚   â””â”€â”€ app.js                # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ .env.example              # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ frontend/                      # ğŸ¨ ç”¨æˆ·å‰ç«¯
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ common/               # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Input.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Modal.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Loading.tsx
â”‚   â”‚   â””â”€â”€ features/             # åŠŸèƒ½ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ ProductCard.tsx
â”‚   â”‚       â”œâ”€â”€ PaymentModal.tsx
â”‚   â”‚       â””â”€â”€ OrderList.tsx
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ _app.tsx
â”‚   â”‚   â”œâ”€â”€ index.tsx             # å•†å“å±•ç¤ºé¡µ
â”‚   â”‚   â”œâ”€â”€ checkout.tsx          # æ”¯ä»˜é¡µ
â”‚   â”‚   â””â”€â”€ orders/
â”‚   â”‚       â””â”€â”€ lookup.tsx        # è®¢å•æŸ¥è¯¢
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â””â”€â”€ locales/              # å¤šè¯­è¨€æ–‡ä»¶
â”‚   â”‚       â”œâ”€â”€ zh-CN/
â”‚   â”‚       â”‚   â””â”€â”€ common.json
â”‚   â”‚       â””â”€â”€ en-US/
â”‚   â”‚           â””â”€â”€ common.json
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ api.ts                # API è°ƒç”¨å°è£…
â”‚   â”‚   â””â”€â”€ helpers.ts
â”‚   â”œâ”€â”€ next.config.js
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ tsconfig.json
â”‚
â””â”€â”€ admin/                         # ğŸ” ç®¡ç†åå°
    â”œâ”€â”€ components/
    â”œâ”€â”€ pages/
    â”‚   â”œâ”€â”€ login.tsx
    â”‚   â”œâ”€â”€ dashboard.tsx
    â”‚   â”œâ”€â”€ products/
    â”‚   â”œâ”€â”€ licenses/
    â”‚   â”œâ”€â”€ orders/
    â”‚   â””â”€â”€ settings.tsx
    â”œâ”€â”€ package.json
    â””â”€â”€ tsconfig.json
```

---

## 5. å¼€å‘ç¯å¢ƒè¦æ±‚

### 5.1 æœ¬åœ°å¼€å‘ç¯å¢ƒ
- **Node.js:** >= 20.0.0
- **npm/pnpm:** æœ€æ–°ç‰ˆæœ¬
- **PostgreSQL:** >= 15.0
- **Redis:** >= 7.0
- **IDE:** VS Code (æ¨èæ’ä»¶: Prisma, ESLint, Tailwind CSS IntelliSense)

### 5.2 ç¯å¢ƒå˜é‡é…ç½®

#### åç«¯ (.env)
```bash
# æ•°æ®åº“
DATABASE_URL="postgresql://user:password@localhost:5432/license_store"

# Redis
REDIS_URL="redis://localhost:6379"

# JWT
JWT_SECRET="your-super-secret-key"

# åŠ å¯†å¯†é’¥
ENCRYPTION_KEY="32-byte-encryption-key"

# æ”¯ä»˜å®
ALIPAY_APP_ID="your-app-id"
ALIPAY_PRIVATE_KEY="your-private-key"
ALIPAY_PUBLIC_KEY="alipay-public-key"

# å¾®ä¿¡æ”¯ä»˜
WECHAT_APP_ID="your-app-id"
WECHAT_MCH_ID="your-mch-id"
WECHAT_API_KEY="your-api-key"

# é‚®ä»¶æœåŠ¡
SENDGRID_API_KEY="your-api-key"
EMAIL_FROM="noreply@yourstore.com"

# å¾®ä¿¡é€šçŸ¥
SERVERCHAN_KEY="your-serverchan-key"

# IP åœ°ç†ä½ç½®
IPAPI_KEY="your-ipapi-key" # å¯é€‰
```

---

## 6. æ€§èƒ½ç›®æ ‡

| æŒ‡æ ‡ | ç›®æ ‡å€¼ |
|-----|-------|
| é¦–é¡µåŠ è½½æ—¶é—´ | < 2s (å…¨çƒå¹³å‡) |
| API å“åº”æ—¶é—´ | < 200ms (P95) |
| æ”¯ä»˜æˆåŠŸåˆ°å¯†é’¥åˆ†å‘ | < 3s |
| ç³»ç»Ÿå¯ç”¨æ€§ | 99.9% |
| å¹¶å‘è®¢å•å¤„ç†èƒ½åŠ› | 100 TPS |

---

## 7. æŠ€æœ¯å€ºåŠ¡ä¸æœªæ¥ä¼˜åŒ–

### 7.1 çŸ­æœŸä¼˜åŒ– (MVP é˜¶æ®µ)
- [ ] åŸºç¡€åŠŸèƒ½å®ç°
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
- [ ] åŸºæœ¬çš„ç›‘æ§å’Œæ—¥å¿—

### 7.2 ä¸­æœŸä¼˜åŒ– (è¿è¥é˜¶æ®µ)
- [ ] å¼•å…¥æ¶ˆæ¯é˜Ÿåˆ— (Bull/BullMQ) å¤„ç†é‚®ä»¶å’Œé€šçŸ¥
- [ ] æ·»åŠ  API ç¼“å­˜å±‚
- [ ] å®Œå–„ç›‘æ§å‘Šè­¦ (Sentry)
- [ ] æ€§èƒ½ä¼˜åŒ–å’Œå‹åŠ›æµ‹è¯•

### 7.3 é•¿æœŸä¼˜åŒ– (æ‰©å±•é˜¶æ®µ)
- [ ] å¾®æœåŠ¡æ‹†åˆ† (å¦‚éœ€è¦)
- [ ] æ”¯æŒæ›´å¤šæ”¯ä»˜æ–¹å¼
- [ ] å¤šè¯­è¨€æ‰©å±•
- [ ] ç§»åŠ¨ç«¯ App

---

**æ–‡æ¡£ç»´æŠ¤:** æœ¬æ–‡æ¡£éšé¡¹ç›®æ¼”è¿›æŒç»­æ›´æ–°
**æœ€åæ›´æ–°:** 2025-10-16
